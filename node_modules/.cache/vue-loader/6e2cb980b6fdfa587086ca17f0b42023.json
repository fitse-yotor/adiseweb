{"remainingRequest":"/home/tobia/Documents/siyume app/addisecom/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tobia/Documents/siyume app/addisecom/src/views/dashboard/products/productsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tobia/Documents/siyume app/addisecom/src/views/dashboard/products/productsList.vue","mtime":1636017132000},{"path":"/home/tobia/Documents/siyume app/addisecom/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tobia/Documents/siyume app/addisecom/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tobia/Documents/siyume app/addisecom/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tobia/Documents/siyume app/addisecom/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tobia/Documents/siyume app/addisecom/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBoZWFkZXIgZnJvbSAiQC9jb25zdGFudHMvaGVhZGVycy9wcm9kdWN0LmhlYWRlci5qcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInByb2R1Y3RzTGlzdCIsCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgicHJvZHVjdHMiLCBbInByb2R1Y3RzIl0pLAogICAgLi4ubWFwU3RhdGUoInN1cHBsaWVycyIsIFsic3VwcGxpZXJzIl0pLAogICAgLi4ubWFwU3RhdGUoImNhdGVnb3JpZXMiLCBbImNhdGVnb3JpZXMiXSksCgogICAgc3VwcGxpZXI6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9kdWN0cy5wcm9kdWN0LnN1cHBsaWVyOwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLm9sZHN1cHBsaWVyID0gdGhpcy4kc3RvcmUuc3RhdGUucHJvZHVjdHMucHJvZHVjdC5zdXBwbGllcgogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicHJvZHVjdHMvc2V0UHJvZHVjdFN1cHBsaWVyIiwgdmFsdWUpOwogICAgICB9LAogICAgfSwKCiAgICBjYXRlZ29yeTogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnByb2R1Y3RzLnByb2R1Y3QuY2F0ZWdvcnk7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicHJvZHVjdHMvc2V0UHJvZHVjdENhdGVnb3J5IiwgdmFsdWUpOwogICAgICB9LAogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFByb2R1Y3RzKCk7CiAgICB0aGlzLmdldFN1cHBsaWVycygpOwogICAgdGhpcy5nZXRDYXRlZ29yeSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygicHJvZHVjdHMiLCBbImdldFByb2R1Y3RzIiwgImFkZFByb2R1Y3QiLCAiZGVsZXRlUHJvZHVjdCJdKSwKICAgIC4uLm1hcEFjdGlvbnMoInN1cHBsaWVycyIsIFsiZ2V0U3VwcGxpZXJzIl0pLAogICAgLi4ubWFwQWN0aW9ucygiY2F0ZWdvcmllcyIsIFsiZ2V0Q2F0ZWdvcnkiXSksCgogICAgdG9EZXRhaWxzKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZHVjdHMvIiArIGlkLnRvU3RyaW5nKCkpOwogICAgfSwKCiAgICBnZXRDb2xvcih2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUgPyAiZ3JlZW4iIDogInJlZCI7CiAgICB9LAoKICAgIGxvY2FsYWRkcHJvZHVjdCgpIHsKICAgICAgdGhpcy5hZGRQcm9kdWN0KHRoaXMucHJvZHVjdCk7CiAgICB9LAoKICAgIHN1cHBsaWVyc2VhcmNoaW5nKHZhbCl7CiAgICAgICAgaWYodmFsICE9IG51bGwpewogICAgICAgICAgdGhpcy5maWx0ZXIuZmlsdGVycy5TdXBwbGllcklkID0gdmFsLmlkCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLmZpbHRlci5maWx0ZXJzLlN1cHBsaWVySWQKICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2codGhpcy5maWx0ZXIuZmlsdGVycykKICAgICAgdGhpcy5nZXRQcm9kdWN0cyh0aGlzLmZpbHRlcik7CgogICAgfSwKCiAgICBjYXRlZ29yeXNlYXJjaGluZyh2YWwpewogICAgICAgIGlmKHZhbCAhPSBudWxsKXsKICAgICAgICAgIHRoaXMuZmlsdGVyLmZpbHRlcnMuQ2F0ZWdvcnlJZCA9IHZhbC5pZAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5maWx0ZXIuZmlsdGVycy5DYXRlZ29yeUlkCiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsdGVyLmZpbHRlcnMpCiAgICAgIHRoaXMuZ2V0UHJvZHVjdHModGhpcy5maWx0ZXIpOwoKICAgIH0sCgogICAgYXN5bmMgbG9jYWxEZWxldGVQcm9kdWN0KGlkKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oewogICAgICAgIG1lc3NhZ2U6IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcHJvZHVjdD9gLAogICAgICAgIGJ1dHRvbjogewogICAgICAgICAgbm86ICJObyIsCiAgICAgICAgICB5ZXM6ICJZZXMiLAogICAgICAgIH0sCiAgICAgICAgY2FsbGJhY2s6IChjb25maXJtKSA9PiB7CiAgICAgICAgICBpZiAoY29uZmlybSkgewogICAgICAgICAgICAvLyAuLi4gZG8gc29tZXRoaW5nCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJZZXMiKTsKICAgICAgICAgICAgdGhpcy5kZWxldGVQcm9kdWN0KGlkKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICB9KTsKICAgIH0sCgoKICAgIGFzeW5jIHNlYXJjaGluZygpewogICAgICB0aGlzLmZpbHRlci5maWx0ZXJzLm5hbWUuJHJlZ2V4ID0gdGhpcy5zZWFyY2gKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5maWx0ZXIpCiAgICAgIHRoaXMuZ2V0UHJvZHVjdHModGhpcy5maWx0ZXIpOwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlcnM6IGhlYWRlciwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZmlsdGVyOiB7CiAgICAgICAgZmlsdGVyczogewogICAgICAgICAgLy8gbmFtZTogewogICAgICAgICAgLy8gICAkcmVnZXg6ICIiLAogICAgICAgICAgLy8gfSwKICAgICAgICAgIC8vIENhdGVnb3J5SWQ6ICIiLAogICAgICAgICAgLy8gU3VwcGxpZXJJZDogIiIsCiAgICAgICAgfSwKICAgICAgfSwKICAgICAgc2VhcmNoOiAiIiwKICAgICAgZGVzc2VydHM6IFtdLAogICAgICBwcm9kdWN0OiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgY29kZTogIiIsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIGF2YWlsYWJsZTogZmFsc2UsCiAgICAgICAgdmlld3ByZXZwcmljZTogZmFsc2UsCiAgICAgIH0sCiAgICB9OwogIH0sCn07Cg=="},{"version":3,"sources":["productsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"productsList.vue","sourceRoot":"src/views/dashboard/products","sourcesContent":["<template>\n  <div>\n    <!-- Dialog start -->\n    <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn outlined small color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\">\n          Add producy\n        </v-btn>\n      </template>\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">Add product</span>\n        </v-card-title>\n        <v-card-text>\n          <!-- something -->\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field\n                  label=\"Product name*\"\n                  required\n                  v-model=\"product.name\"\n                ></v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"product.description\"\n                  label=\"Description\"\n                  required\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"product.code\"\n                  label=\"Product Code\"\n                  required\n                ></v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\">\n                <v-text-field\n                  type=\"number\"\n                  v-model=\"product.price\"\n                  label=\"Product Price in birr\"\n                  required\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n          <small>*indicates required field</small>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\n            Close\n          </v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"localaddproduct()\">\n            Save\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <!-- Dialog end -->\n\n    <v-card>\n      <v-card-title>Products</v-card-title>\n      <v-card-subtitle>\n        <v-row>\n          <v-col cols=\"4\">\n            <v-text-field\n              label=\"Search\"\n              required\n              v-model=\"search\"\n              dense\n              @input=\"searching\"\n            ></v-text-field>\n          </v-col>\n\n          <v-col cols=\"4\">\n            <v-combobox\n              v-model=\"supplier\"\n              :items=\"this.suppliers\"\n              item-text=\"fname\"\n              item-value=\"id\"\n              label=\"Pick a supplier\"\n              @change=\"suppliersearching\"\n              dense\n              clearable\n            />\n          </v-col>\n\n          <v-col cols=\"4\">\n            <v-combobox\n              v-model=\"category\"\n              :items=\"this.categories\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"Pick a category\"\n              @change=\"categorysearching\"\n              dense\n              clearable\n            />\n          </v-col>\n        </v-row>\n      </v-card-subtitle>\n      <v-card-text>\n        <!-- Table -->\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"products\"\n          :items-per-page=\"15\"\n          class=\"elevation-1\"\n        >\n          <template v-slot:item.available=\"{ item }\">\n            <v-chip :color=\"getColor(item.available)\" dark small>\n              <b> {{ item.available }} </b>\n            </v-chip>\n          </template>\n\n          <template v-slot:item.actions=\"{ item }\">\n            <v-row>\n              <v-btn text x-small color=\"green\">\n                <v-icon color=\"green\" @click=\"toDetails(item.id)\" small\n                  >mdi-details</v-icon\n                >\n              </v-btn>\n\n              <v-btn text x-small color=\"red\">\n                <v-icon small color=\"red\" @click=\"localDeleteProduct(item.id)\"\n                  >mdi-delete</v-icon\n                >\n              </v-btn>\n            </v-row>\n          </template>\n        </v-data-table>\n        <!-- End table -->\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n\n<script>\nimport header from \"@/constants/headers/product.header.js\";\nimport { mapActions, mapState } from \"vuex\";\n\nexport default {\n  name: \"productsList\",\n\n  computed: {\n    ...mapState(\"products\", [\"products\"]),\n    ...mapState(\"suppliers\", [\"suppliers\"]),\n    ...mapState(\"categories\", [\"categories\"]),\n\n    supplier: {\n      get() {\n        return this.$store.state.products.product.supplier;\n      },\n      set(value) {\n        this.oldsupplier = this.$store.state.products.product.supplier\n        this.$store.commit(\"products/setProductSupplier\", value);\n      },\n    },\n\n    category: {\n      get() {\n        return this.$store.state.products.product.category;\n      },\n      set(value) {\n        this.$store.commit(\"products/setProductCategory\", value);\n      },\n    },\n  },\n  mounted() {\n    this.getProducts();\n    this.getSuppliers();\n    this.getCategory();\n  },\n  methods: {\n    ...mapActions(\"products\", [\"getProducts\", \"addProduct\", \"deleteProduct\"]),\n    ...mapActions(\"suppliers\", [\"getSuppliers\"]),\n    ...mapActions(\"categories\", [\"getCategory\"]),\n\n    toDetails(id) {\n      this.$router.push(\"/products/\" + id.toString());\n    },\n\n    getColor(value) {\n      return value ? \"green\" : \"red\";\n    },\n\n    localaddproduct() {\n      this.addProduct(this.product);\n    },\n\n    suppliersearching(val){\n        if(val != null){\n          this.filter.filters.SupplierId = val.id\n        } else {\n          delete this.filter.filters.SupplierId\n        }\n        console.log(this.filter.filters)\n      this.getProducts(this.filter);\n\n    },\n\n    categorysearching(val){\n        if(val != null){\n          this.filter.filters.CategoryId = val.id\n        } else {\n          delete this.filter.filters.CategoryId\n        }\n        console.log(this.filter.filters)\n      this.getProducts(this.filter);\n\n    },\n\n    async localDeleteProduct(id) {\n      this.$confirm({\n        message: `Are you sure you want to delete this product?`,\n        button: {\n          no: \"No\",\n          yes: \"Yes\",\n        },\n        callback: (confirm) => {\n          if (confirm) {\n            // ... do something\n            console.log(\"Yes\");\n            this.deleteProduct(id);\n          }\n        },\n      });\n    },\n\n\n    async searching(){\n      this.filter.filters.name.$regex = this.search\n      // console.log(this.filter)\n      this.getProducts(this.filter);\n    }\n  },\n  data() {\n    return {\n      headers: header,\n      dialog: false,\n      filter: {\n        filters: {\n          // name: {\n          //   $regex: \"\",\n          // },\n          // CategoryId: \"\",\n          // SupplierId: \"\",\n        },\n      },\n      search: \"\",\n      desserts: [],\n      product: {\n        name: \"\",\n        code: \"\",\n        description: \"\",\n        available: false,\n        viewprevprice: false,\n      },\n    };\n  },\n};\n</script>"]}]}